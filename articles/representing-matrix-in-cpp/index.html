<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.1">
<title data-rh="true">Representing Matrix in C++ | Rahul Sharma</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://rahulsrma26.github.io/articles/representing-matrix-in-cpp"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" name="google-site-verification" content="XGiC2A6JxvD9Dpd1z7dzwB6lHkt2xzI3d_5Uutepg2Y"><meta data-rh="true" property="og:title" content="Representing Matrix in C++ | Rahul Sharma"><meta data-rh="true" name="description" content="Learn how to represent and manipulate matrices in C++ with this comprehensive guide. The article covers matrix creation, initialization, and operations using 2D arrays and dynamic memory, complete with examples and code snippets for better understanding"><meta data-rh="true" property="og:description" content="Learn how to represent and manipulate matrices in C++ with this comprehensive guide. The article covers matrix creation, initialization, and operations using 2D arrays and dynamic memory, complete with examples and code snippets for better understanding"><meta data-rh="true" name="keywords" content="Matrix in C++ tutorial,C++ 2D array matrix,Matrix operations C++ code,C++ dynamic matrix,Matrix programming C++ examples,Initialize matrix in C++,Matrix representation tutorial,C style Matrix,Matrix from vector of vectors"><meta data-rh="true" property="og:image" content="https://rahulsrma26.github.io/assets/images/preview-305a4b4207ef83245b755e6271fccdaa.png"><meta data-rh="true" name="twitter:image" content="https://rahulsrma26.github.io/assets/images/preview-305a4b4207ef83245b755e6271fccdaa.png"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2017-11-11T00:00:00.000Z"><meta data-rh="true" property="article:tag" content="cpp,coding"><link data-rh="true" rel="icon" href="/favicon.ico"><link data-rh="true" rel="canonical" href="https://rahulsrma26.github.io/articles/representing-matrix-in-cpp"><link data-rh="true" rel="alternate" href="https://rahulsrma26.github.io/articles/representing-matrix-in-cpp" hreflang="en"><link data-rh="true" rel="alternate" href="https://rahulsrma26.github.io/articles/representing-matrix-in-cpp" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://rahulsrma26.github.io/articles/representing-matrix-in-cpp","mainEntityOfPage":"https://rahulsrma26.github.io/articles/representing-matrix-in-cpp","url":"https://rahulsrma26.github.io/articles/representing-matrix-in-cpp","headline":"Representing Matrix in C++","name":"Representing Matrix in C++","description":"Learn how to represent and manipulate matrices in C++ with this comprehensive guide. The article covers matrix creation, initialization, and operations using 2D arrays and dynamic memory, complete with examples and code snippets for better understanding","datePublished":"2017-11-11T00:00:00.000Z","author":[],"image":{"@type":"ImageObject","@id":"https://rahulsrma26.github.io/assets/images/preview-305a4b4207ef83245b755e6271fccdaa.png","url":"https://rahulsrma26.github.io/assets/images/preview-305a4b4207ef83245b755e6271fccdaa.png","contentUrl":"https://rahulsrma26.github.io/assets/images/preview-305a4b4207ef83245b755e6271fccdaa.png","caption":"title image for the blog post: Representing Matrix in C++"},"keywords":["Matrix in C++ tutorial","C++ 2D array matrix","Matrix operations C++ code","C++ dynamic matrix","Matrix programming C++ examples","Initialize matrix in C++","Matrix representation tutorial","C style Matrix","Matrix from vector of vectors"],"isPartOf":{"@type":"Blog","@id":"https://rahulsrma26.github.io/articles","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/articles/rss.xml" title="Rahul Sharma RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/articles/atom.xml" title="Rahul Sharma Atom Feed">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.42b8a076.css">
<script src="/assets/js/runtime~main.9fee9ea2.js" defer="defer"></script>
<script src="/assets/js/main.92d47bee.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">Rahul Sharma</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/articles">Blog</a><a class="navbar__item navbar__link" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/projects">Projects</a><a class="navbar__item navbar__link" href="/gallery">Gallery</a><a class="navbar__item navbar__link" href="/about">About</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2020</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/articles/gh-pages">Automate your GitHub Pages deployment using Actions</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/articles/love-letter">A love letter of a physicist</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/articles/static-site">Create a fast static site in React using Gatsby</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2018</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/articles/pride-and-patience">Pride &amp; Patience (dragonball z painting)</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2017</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/articles/representing-matrix-in-cpp">Representing Matrix in C++</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2014</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/articles/falling-matrix">Animation using HTML5 and javascript</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2011</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/articles/gate-2011-solution">GATE 2011 Solution</a></li></ul></div></nav></aside><main class="col col--7"><article><header><h1 class="title_f1Hy">Representing Matrix in C++</h1><div class="container_mt6G margin-vert--md"><time datetime="2017-11-11T00:00:00.000Z">November 11, 2017</time> · <!-- -->6 min read</div></header><div id="__blog-post-container" class="markdown"><p><img decoding="async" loading="lazy" alt="Preview" src="data:image/png;base64,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#reverse-invertable" width="680" height="168" class="img_ev3q"></p>
<p>Usually, we access elements of a 2D array, that is saved in a continuous memory like array[row*N+column]. Which is not as readable as array[row][column]. But a vector of vector has performance issues. This article shows an object-oriented way of representing a matrix as a C++ class without losing performance.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="table-of-content">Table of content<a href="#table-of-content" class="hash-link" aria-label="Direct link to Table of content" title="Direct link to Table of content">​</a></h2>
<ul>
<li><a href="#the-problem">The Problem</a></li>
<li><a href="#matrix-class">Matrix Class</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-problem">The Problem<a href="#the-problem" class="hash-link" aria-label="Direct link to The Problem" title="Direct link to The Problem">​</a></h2>
<p>Most people, who has to deal with the matrices in C++, would be familiar with this problem.</p>
<p>I&#x27;m listing two of the most popular ways for representing matrix. One excels in readability while others in performance.</p>
<ul>
<li>First way is to use vector of vector.</li>
</ul>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">vector</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">vector</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">int</span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">matrix</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rows</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token generic-function function" style="color:#d73a49">vector</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name keyword" style="color:#00009f">int</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cols</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// do stuff</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// access like matrix[y][x]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// no need to free. RAII rocks.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This is similar to using double pointer in C for dynamic 2D array.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">matrix </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">rows</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> rows</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    matrix</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">cols</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// do stuff</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// access like matrix[y][x]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> rows</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">delete</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> matrix</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">delete</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> matrix</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>It&#x27;s basically an array of arrays. Every element of the outer array points to another array of integers. That&#x27;s why you can reference it two times. But, since every array is separately allocated, to access the array we must have to go to the elements of the outer array first and then inner ones. Also, there will be no guarantee that every row will be adjacent to each other in memory. They can be scattered across the heap.</p>
<ul>
<li>Second way is to use C style array.</li>
</ul>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">int</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> matrix </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">rows</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">cols</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// do stuff</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// access like matrix[y*cols+x]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">delete</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> matrix</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This will make a solid continuous chunk of memory in heap. So, it&#x27;ll have a better access time and pattern.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="performance">Performance<a href="#performance" class="hash-link" aria-label="Direct link to Performance" title="Direct link to Performance">​</a></h3>
<p>C style array access should perform better than vector style access. As vector style has to refer two times to access an element, the address of matrix (outer array) can be saved in the register but elements have to come from memory (or cache). The other problem is that at the end of a row next row could be anywhere, and the pre-fetcher can not predict the next fetch.</p>
<p>It&#x27;s hard to measure general performance since the use case varies a lot. But to get some idea I&#x27;m considering two types of algorithms with square and rectangular matrices. All the results are compiler on GCC 7.2 with c++14 and -O3 flags on linux x86 machine.
For simplicity&#x27;s sake, we have a fixed number of rows and columns but it can be easily changed to general inputs.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sum-of-all-elements">Sum of all elements<a href="#sum-of-all-elements" class="hash-link" aria-label="Direct link to Sum of all elements" title="Direct link to Sum of all elements">​</a></h3>
<p>Let us take an example of calculating the sum of all the elements in a matrix. Here are our two popular approaches:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Vector style code for a square matrix</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Similar thing can be achieved in C by int**</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Vector_sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">vector</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">vector</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">int</span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> matrix</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> N</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> sum </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> N</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> j </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> j </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> N</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> j</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            sum </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> matrix</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> sum</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// C style code for a square matrix</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">C_style_sum</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> matrix</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> N</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> sum </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> N</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> j </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> j </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> N</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> j</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            sum </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> matrix</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> N </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> j</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> sum</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Results for a square matrix of size 512*512</p>
<p><img decoding="async" loading="lazy" alt="sum benchmark" src="data:image/png;base64,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#invertable" width="893" height="446" class="img_ev3q">
See this benchmark on <a href="http://quick-bench.com/GXUG06sZDLCrGsOogF5wmd2DOFU" target="_blank" rel="noopener noreferrer">quick-bench</a></p>
<p>Results for a rectangular matrix of size 1024*256</p>
<p><img decoding="async" loading="lazy" alt="sum benchmark" src="data:image/png;base64,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#invertable" width="893" height="446" class="img_ev3q">
See this benchmark on <a href="http://quick-bench.com/ekNZpPxwiw4wYtqOV51vPF8CXUo" target="_blank" rel="noopener noreferrer">quick-bench</a></p>
<p>As you can see the difference is not much. I can live with that for most of the programs. However, transpose yields a completely different story.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="transpose-of-all-elements">Transpose of all elements<a href="#transpose-of-all-elements" class="hash-link" aria-label="Direct link to Transpose of all elements" title="Direct link to Transpose of all elements">​</a></h3>
<p>Let us also take an example of transposing a matrix. Which will have a completely different access pattern then sum. Here are our two popular approaches:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Vector style code for a square matrix</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Similar thing can be achieved in C by int**</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">using</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">namespace</span><span class="token plain"> Matrix </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> vector</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">vector</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">int</span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">Vector_transpose</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Matrix</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> matrix1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Matrix</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> matrix2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> N</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> sum </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> N</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> j </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> j </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> N</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> j</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            matrix</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> matrix</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> sum</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// C style code for a square matrix</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">C_style_transpose</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> matrix1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> matrix2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> N</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> sum </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> N</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> j </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> j </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> N</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> j</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            matrix2</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> N </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> j</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> matrix1</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> N </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> sum</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Results for a square matrix of size 512*512</p>
<p><img decoding="async" loading="lazy" alt="sum benchmark" src="data:image/png;base64,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#invertable" width="893" height="446" class="img_ev3q">
See this benchmark on <a href="http://quick-bench.com/0DVlD6PAcBQvMmfnjLlJpcSHcls" target="_blank" rel="noopener noreferrer">quick-bench</a></p>
<p>Results for a rectangular matrix of size 1024*256</p>
<p><img decoding="async" loading="lazy" alt="sum benchmark" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA30AAAG+BAMAAADVR3C5AAAAMFBMVEX1tcBe2c3////m5uarq6vu7u7IyMjA8Oz4+Ph1dXWHh4fe3t6zs7P84+eamppmZmaYptPRAAAIk0lEQVR4XuzXsUrzUByH4V6K/KEhQ8kScPEuAi56BQGvwsGhq7RLBxeVDAWhBaHilE0X7yGTg7h/32BVtEvbGzjxeaff/nDOSQaRcDoYxKjL7/6fF/8Ww6smVh/xuxKJ30s3asft88Vk3L4Pp5sVacSvuO4iRs3bcHqyqE9vNquKVHJ/RhSvt/n8oVrdN9nlz1pEOvGrj6f5vK5Wj002+15J+fHLZvn2+VuWX52VveloWfamHb+nKva+f4fRm/Kqv+cvm0TsfH8m48evWK+b7f+/VPz47e9P+vHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP36f7N2tSgRRHIdhb8E7kAWPwi5bBA3ehcmPKxAEQe/AYLAua9lgURnQpCAoJpNYvIcBQUGMwhpE24AK1vmxzz9NfzhzPso7N9262eHHrwXDjx+/nH5AUw1ovvjl9OOaakfzxS+nH9c9+aMfxy+nn1OVwa9+XIwfv15VRj/6cdl+1t///bil9vntTmY/Lnv/s/4m+/zp/sfP+ws/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHbzu5/8CvO0rur/Arw36d2z/i973q7oP7f/a/tffZ6P6f/+ez/l/O/PTr12UYvf9Zf1Xw+dP+9zhecf/z/sKPHz9+/Pjx48ePHz9+/Pjx48ePX/jwyx9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+19n9AP2qXp3b7+BX6k4nt5/Dr/cyXg3ux/Eb9Z+C+3H86jLI7cfpx5Uquh/n/Hl2EH3+dP/72HP/CxjvL4nDjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePH74u9O8alIArjOKoXhR3IJJ4pJtNIKOxComEFL1GxA4VCKzSvUJEnkZAR8kZUr6OyBoWQiJ7CWIPK/OPcLZzk3vt9ze9ppm9nrr9+/Pjx48ePHz9+/Pi1TXA/gF953gT3O/hVb01wP4ff3XAS3I/j99Le5Pbj+A2e28m/7sdd9c5v9jf9uLrrRtHvn/nh3/4/zX/87F/48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fuXl115u/4FfNT2YJvdX3J/VOLl/xK9+Te7/8RtuBPf/+A1GZW7/T/+veFgvgt8//c2josj9f/Kru27cs/mPn/0LP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHL7gfwy+538Mvu5/DL7sfx+/N+HL8f7umgCAAAAgKgKEaWe3kKoSN5BDEy+N122O+/PA4eAxrbnh2sNm7EcRzvo5QfSBgkdG8fYQ896BCQsicdFuIW/A6CLEWUPVWGVMY6FAft7iEgaFilJgfdRJf6HQS7xLFILmXAxniqsc3aDQRaCg5Sfl8MxmYuw4fxf5D/9fw7Qmvq2Ghjj98/m+tHPy1OmutHPxX9DhP96Ec/+tGPfvSjH/3aH/0Y/axSvVTGCM3OlAKb3BRA9Sz89BCO1w6/wna8Z+en9XFyHIfIFt/M63f9LEFD0/rQEwCWvLnoj7RRZcRh+/1wh8rxbk/fW3+MnPz2dYSmpm+1uj/O3A/neqm25bffr3v6/sS+OkpgjK7s7DJsrl+y3ZAPN/1oeVW9Lbv9fu446cn5WPmd2O5l0vjzZ8rcTa+/tat6W2n7/YIXXteHvj1/DfbT+jBuUNc5d9M336Hq+kD7/cy57XjFcWTN1vMvafT9MwfwZ2fmpqZQY72w2+9nDGHEEXqL0zN1/2ywnymXqAtkHkTGCJXaVjP9mFk28PkLs6SUHuqm9jP0Y/SjH6Mfox+jH/0Y/Rj9GP3ox+jH6MfoRz9GP0a/zqcgwbo7ZDI0YimMAbIc+EEX2OXamORmhP2sdPdXq+PR7ymyQmwy+voS098HnbfHa79acb9rH5PwgV+R4ktWQr/Dpq9Wjiwn86vElKGCDBIotd73az9HfhbO7XyyxGThAx+Byar2u1/49XJ9JUvoUkxf/ixfzO1A5rrAgaMfKlMotuLDOx9BmeX7fsZAF07YS6aXwimBz0BxNo6s0Cnr5a9XpgCKdPpyGYisnB4JbYDDRj8BLVZ+o3d+z4Oz9dv9fupCfVdch1aCzgwoiipySjOql78S2nDjp0Q/DbWB+nzY6Ne5eKX8fh2i9ss2frGMjH/6XUkZwrgBivEiynKzP8QDv1ksV9ovPg4b/RTR3vnbzj9oD8+fWlwCxW/xY+cPOPz5o582DPbmX7K5fwKdt3aR7vzW88/KFdfky/xb/CR2fk8z/+iHyXygy25iygSwQmTr307AkQLoXJxv/FJ1/3yTKq4gwv0K9XL9rzgHsuXWj/fPp8+I/pv9g8yEfk/b3f/w4/OXx2L0Y/SjH6Mfox+jH/0Y/Rj96Pc3QsqjrmyxYcMAAAAASUVORK5CYII=#invertable" width="893" height="446" class="img_ev3q">
See this benchmark on <a href="http://quick-bench.com/IyZq2RwP_RtZJpC4B8iwTSTSRwI" target="_blank" rel="noopener noreferrer">quick-bench</a></p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="matrix-class">Matrix Class<a href="#matrix-class" class="hash-link" aria-label="Direct link to Matrix Class" title="Direct link to Matrix Class">​</a></h2>
<p>We can write a custom template class that will allow us to access elements like vector. To achieve we need to overload the brackets operator.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// e.g. a matrix of 5 rows and 3 cols</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// matrix&lt;int, 5, 3&gt; x;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// can be accessed like x[row][col]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">template</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">typename</span><span class="token plain"> </span><span class="token class-name">T</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> size_t R</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> size_t C</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">matrix</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    T</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// can be changed to unique_ptr in C++1z</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">matrix</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">data</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> T</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">R</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">C</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">~</span><span class="token function" style="color:#d73a49">matrix</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">delete</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">inline</span><span class="token plain"> T</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">operator</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> row</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">row </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> C</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">inline</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> T</span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">operator</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> row</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">row </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> C</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Almost all the compilers today can optimize away the referencing and dereferencing of the same array. The assembly code generated by it is virtually the same as the C style version.</p>
<p>So, how well it performs.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sum-of-all-elements-1">Sum of all elements<a href="#sum-of-all-elements-1" class="hash-link" aria-label="Direct link to Sum of all elements" title="Direct link to Sum of all elements">​</a></h3>
<p>Results for a square matrix of size 512*512</p>
<p><img decoding="async" loading="lazy" alt="sum benchmark" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA30AAAG+BAMAAADVR3C5AAAAMFBMVEX////qs/TtwFhe2c3l5eWurq6BgYH24Kz12vppaWmq6+W07ejNzc2amprv7+/29vb8oBxIAAAI1UlEQVR4XuzXKw7CQBSF4SOo62NLVwyTkDRQRYKnoknTbgZTwW5I9QhAQVJBWEIVgkE2s4G54fzq+i/zuFAeSxxgJRskb3pszvAT9MQODkUj+083V8+8nSs/QU0sqx2Su9zy9i3jq0t6P0FVvD/tuGuL2k627NOjn6Aq+j3s1quNk10r9KNf6uzy/JlfVxNJpYmli4kkWfhlw3AK378KkbRCLEm0+0P4/6RfmCja/+gXJtDRv/nRj370ox/96Ec/+tGPfvSjH/3oRz/60Y9+9KPfl507Rk0gCAMwOoXb7WYPkwtYqCBYbCWkN0VA3MuIsIUgJDfIFSR1iqQULcRSrKwsbGzs1mJhR95c4TH8/0zxfb82flZP4MePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx0x/MPxanOv1Bfu3szyfFuajT/+TX0v58SMq7/m5kfvqt2faufx2ZH7+f460/H6Mfv3Se1+rPfzbv9/Vwf15/Pox3Id755/6lsxDi3T/5ZVVVev/5f4nZjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvyu7N0/ahRhHMfht9gBi5ld7Ky9ghfYQhcFcVMJVjZrEZAdCR5lWVhQEPQGXkECdlMkqdSkCJZJqq1SJEWaqbRwQ77rM1d4eOf9U3x+ew83/r37d378+PHjd+/+xr8H2+XHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvyq7qYaGdOP5NefHzB8mzU/gF9/fsBgHjY/gF+/n9zWs16/PMqPX3Wt1psfEOdn/WXND3h6C35/Nz/gFvze/2F+QPb+Z/3d9fMnP/c/7y/8+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx4/f9+T+IL/BLLn/ya+eN11uf5ff9ap7nduf51d+fxhG9+f9P49T+/P686U0XT2P3v+svzb3/MmvvFqebPn9z/sLP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHj9yy7P6h/XXW5/U9+dVdKbn+XX3W0PA/uz/NbNL+C+/P8unqW25/Xn6/b6P688+dsnX3+dP+72Pb7n/cXfvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHbzIO7g/yG+2Og/uf/KqjcXB/l99kfxrcn+f3Y/IiuT9vfsdkmtuf159vVqtF9P7n/uD86f7Hz/sLP378+PHjx48fP378+PHjx48fvw19/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48eP32h3eZHbj+RX7ax3kvut/p9Vm9xP5tccJ88P4Ld/Fjw/gF+9GOXODzA/oLw8KcH7n/kd81Jyz5/8mtWq/Y/uf95f+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fv/D+IL/s/ie/6P4uv1F0v5zf8K758bting6pAABCKAheg6uGWYnEERVLHx4RcH86zPlfrUCEo6IRYdOO/bM4bsRhHH8KqRtJb0lFziC4y6mJQYU72WCwNW9GNgyM34uLxCDYEBVrw8LunYrLVAtxkai6/BnZZu0sJNwF4pHh+TBgbFT84MtoBn/B+bdGT3joixj9190/b7gf+wUqvuF+7GexH/t9EfZjP/ZjP/ZjP/ZjPyKi4b5bHRPDpUqlOBoBENLxLELiJgziaIwe9BNlNHbf7zzLrfRrUy8PVBpO82lpPweTxtUcGDQAEvVW7dbBnbTDAO5meZZG1cFhoc986dfDX3W7Hpl4+Ekna2fvAXSimahHfm2epR0KDmcRxdjLN3/e24U+84r2pzG2gwYm3uLJju7GoDn1A0bexx9FYYeCw1mERJhv9rCr16LZ5pepWm0amPdjjAaN2/0Hs2xG0f2jKOxQTvefrFTpq9Qu9NrTNpoBL/uvcXfmmAaWkCOMClHMADic5TmfhTmiWbd6rSox/GNs1sNBd/456yfKaA4gzEU9QlILaYeCw1lEPvNL+yawC71mJAJVe6poD/fPBo5UqoZVLZuqbtdC2qHgcBYhs8WsValdoK+/QNweqpRawRIa/xMiIiIiIiIiIiIiIiIiIoo+tBIHT0hU4SmlvQWSFPhBaJyZBlnql7gUxLsGJ2YNBygocORpscDDN4to8unQz1a89G6PrHjVL4vxIpC4KhKrlVF1pjbSV0UXspXoqlXfH/oZ9ajNbpktkC33wHdAtrL9HpZ7+7hYqRpC6d3PCzVcNq1KhcaVsR+2vu6yZe8ne7R1kl728xZCm6KSD2+1qYFHIJu+KYPC1PbxzytfA1ls+7U6qXfPOhzjqkhohNOuXzHZV2uYU7/z+1Po7rfsXRFIRPdAlm1LU/vaPn6nw/mxX1f0wzwc2+9Xxn7R9K7rl89h+yXHfkqV3t/7bZQq4H0EsjfLMkl9PcerfvdKrcLJHtfFfjbR5f47nX8Ix6/2HwBRA9m303/af8C19x8J26C9OP/k8f4JRJMmi8/9DudfkHa5spfzb/mbPvdzc/6xH7LlQhzunxIICiSHdydglAai6ezYL+7un7/HXa62xMMKvrKpVQoki1M/9/dP8vKva/+KL+EUPf2nfv/+/wsREREREREREdFfy7pnQ8ULUkIAAAAASUVORK5CYII=#invertable" width="893" height="446" class="img_ev3q">
See this benchmark on <a href="http://quick-bench.com/UODm6ylUQGqDCGbdxMIUvpqHrcA" target="_blank" rel="noopener noreferrer">quick-bench</a></p>
<p>Results for a rectangular matrix of size 1024*256
<img decoding="async" loading="lazy" alt="sum benchmark" src="data:image/png;base64,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#invertable" width="893" height="446" class="img_ev3q">
See this benchmark on <a href="http://quick-bench.com/-rGgWT2v0CZsUNbOtoTOCs9ybiE" target="_blank" rel="noopener noreferrer">quick-bench</a></p>
<p>Separate code can be found <a href="/assets/files/sum-1930db74954abefc087e0596b9ee538c.cpp" target="_blank">here</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="transpose-of-all-elements-1">Transpose of all elements<a href="#transpose-of-all-elements-1" class="hash-link" aria-label="Direct link to Transpose of all elements" title="Direct link to Transpose of all elements">​</a></h3>
<p>Results for a square matrix of size 512*512</p>
<p><img decoding="async" loading="lazy" alt="sum benchmark" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA30AAAG+BAMAAADVR3C5AAAAMFBMVEX////qs/TtwFhe2c3l5eX3+fitra3v7emRkZHy7vPExMR6enrOzs7Q9PFmZmZvb2+rYzeWAAAIyklEQVR4XuzXMUoDQRyH0X+zywZyqC0WCxPQzhQWWwqCeIRtdrEQ2cJGvIZNIFgFm1wkVWw8gIqmMOYAM/C+6tc/hpmJzFPZFQ/b8+q9nrz2cbaN35VJuunKdtFeXS4X7d1ktV+RR6qGLqLsh8nqud48LvdrjDxS2UVU/X0xzMbZvJ++/Kw68onf5mlVDJtxdvLl972y8uM3/SgOz9+6+eqtSaR1k0bzJo3qv37XYxy9/04jjYrbSKOLJM/fdBnx7/2ZjR+/arfrD/9/x/345VKefvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvw+2btflWiiOI7DG9ZhhLkbq4KgGFRQMGgwWARBWLyEU0YUDIb3Td7GlAUxiUXwOoQVLF6A2wZREMFFv/j80vSHM+dP+ewszHqWfrEfP378+PHjx48fP376AX01oP9K8eM3Kn21o/8K8eNXn5bh+IN+XI6ffk7bdO/6cTF+/Kqp2tt+XKaf9fd5P25l5n6LX+vH6cdl73/W398+f7r/8fP+wo8fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PF7SO4/8Bt2yf0Vfs24Lrn9I37TVXcY3P+z/109zUf3//w/27T+n/5fP3Vpxtn7n/UXfP60/40ml+5/3l/4/fDw48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48eP31Z2P0C/qiq5/Q5+TRkMcvs5/Krjyf/gfhy/l/o8uB/HrzRdbj9OP65po/txzp/dXvT50/3vcdv9z/sLv28dfvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz4vbJ3xygRA2EYhtMkrLCNV7CxsbNVCGoEHUHRQguLLQUbj2ATERRNYSNew0YQK7HZi1itzR7AckptAvn1+a7wQCYzzXu41PeW/6TfYu/rhuzHjx8/fvz48Ut1uH4Av7zyvg7X7+CXV93U4fo5/PLStAnXj+OXd5t2ovXj+OWNL1MTrh/Xv9/v+nEbvfut/NSPG81m89Dnn/vDv/3/dP/j5/2FHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx41fefR7E7T/wqyYnk8j9Fd/Pqo3cP+I3aiP3//hNHwP3//iN52Xc/p/+X3HeFYHPP/3Nl6II+P/JL/c324Hd//h5f+HHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/frH7Afxi9zv4xe7n8Ivdj+M3qH4cv2/m6aAIAAACAqB+SnjdXBJvOUSRigxetx3282/6ECISGggNse3YMYvjRh/H8V8hiRHoRblIjj18IFWJiitUJMEHRs4LSKHC49jx4nVxHBt0LyAQSBphPLBsVITgcMfmXRiDxWxjlhAWk5FtsLPwPNwF4rHh92FAtlHxhy+jEf6w8+8bWHe4/+z7HGchTvo4337s59/KM+7Hfgb7sd8HYT/2Yz/2Yz/2Yz/2IyLq12ujOYZFqS6x4RcARGJ3FJHgTLwb+zf2+8FT/o31fvtRzqdfXgYqXI6ddfe2vr77M7I0BmYRgNEivv9xfH2dmFkAa6PEyZ0uY52YhdMmMvHqRsi80Wt+PxHyj4atxwBqgYyfF3E528wEe6OILwpPtvyBWThtgcxfKEfNIjRfK6cww1sxi3bTwC+85FK0zUywN4pIEMgW0MKp84vWS61XLdPvrfKLWWR1/yGd+4XTHYi2mcnm/ktGWgpdmoXT5vYuAwns9p+1fnmJiwhG/Hvh9jLRlgDsjRK31eZRUK8Tlyr/xlPNRn9z/tnq5yl/Ul8yc/4hLcUrMxPsjSLaKpY9f2AWTlyYIbxvBFrm9funrX5IdQLAHc3dq0ZzLBIzE+yNIr4c/aVyXZqFj0UtnCEaaV3BEAr/CSIiIiIiIiIiIiIiIiIicgexxEYfoVbOWlfOA8IE+C2osHc9Rpp4KxzyGsMxdvISFpBQ2HIegzmuPnlwh683/UzFQxcRUvWkX6ex/ywkjoqCxSLXWXo/k55WdchYoq529+umX64vq7y//GmOdBEBX8FcTb/RIjK3BwudIdDV8M2Dbi3HsU6CCkfGfuh5VZ2t82k/QpyFyWE/5yGocnUnr15UeQZcAp1fnq2EyjNz+8uFV9X7b/hmHldhNnxb+RMcFQUV/Nu637f96K5Evuu3f34GVf1b50IJCbcLdH7urfLMezS3v6/86bZfXXQw9Sfm+5Gxnzt6X/frTmH6hdt+a71y/tlvprWCI4HOs+UqTLzHKZ706671wp9GOC72M4kO99/u/IM/ebL/AAQZ0Hl++7/2H3Ds/UeBaRAfnH9y+/4JuMNxp7Hvtzn/RFLnSvfn32fVvp+d84/9kC4fAv2D9LQEhEK4eXYCua4Ad/Tdtl8jXZi6jTpXXL9/wtMm9ToBwvmun/33T3KKj2v/hCdhFfX/Vb////8LERERERERERHR3/T8HiJ91QByAAAAAElFTkSuQmCC#invertable" width="893" height="446" class="img_ev3q">
See this benchmark on <a href="http://quick-bench.com/VxtU_lR77Fjtm-vo9Vs8CmMDQl4" target="_blank" rel="noopener noreferrer">quick-bench</a></p>
<p>Results for a rectangular matrix of size 1024*256</p>
<p><img decoding="async" loading="lazy" alt="sum benchmark" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA30AAAG+BAMAAADVR3C5AAAAMFBMVEX////qs/Re2c3twFjl5eX3+fjv7uutra2RkZHExMR6enrOzs7Q9PFmZmZvb2/56fwJrau9AAAIw0lEQVR4XuzXMUoDQRiG4b/ZZGEvtcWCmIBYScBmC7Gw2lIEIc2ygngLSRPsAsKeJE2sPIgRTWHMAWbgeauvf5iZ3cg8TZfFy/ay/Kgnb31cbON3ZZIel9Nu0d1frxbd02R9WJFHKodlxLQfJuu7erxZHVYbueT+jCj752KYtbN5X73+rDryid94uy6GsZ2d7f2+V1Z+/KrP4vj8bZp9700ibZo0mjdpVP/1e2jj5Pt3HmlUtJFGV0mev2oV8e/7Mxs/fuVu1x///53245dL/Pjx48ePHz9+/Pjx48ePH7+U48ePHz9+/Pjx48ePHz9+/PilGD9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx4/fF3v2jRAyEARzdYjWBuYWtHkJEEBVELESwsdDGykaQhcA0WQWvEdKInSAI3kNWsPIgu10QhWCxmA/fV6V/TOZP8ztaW/Zs8Osdfvz48ePHTz+gqwZ0X1H8+FW5q3b09Dv4DbIfN25/6MfF8dPPqVPzrR8Xxo9fsVD72o+L6Wf99ffjtpbut/67fpx+XOz9z/r73+dP9z9+3l/48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fvz48ePHjx8/fq+R+w/8xk3k/gq/1JY5bv+I32LVXQfu/9n/Lt9XQ/f//D/raP0//b9uypza2Puf9Rf4/Gn/q2Zn7n/eX/j98fDjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx4/fQex+gH5VkeP2O/ilPBrF7efwKyazi8D9OH6f5TRwP45fTk3cfpx+XKpD9+OcP5uT0OdP97+3Q/c/7y/8BjD8+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjN2fvjlEiBsIwDKeJWbDyCrbaCTY2Qd0VRxBREMHGQiysthQrm6Cs6CnERuwEYU9is1Y5gEewnHKXhUB+eL4rPCQzSfOudb6/Pvvx48ePHz9+/FIdrh/AL698rcP1O/jlVZM6XD+HX16aDsP14/jlPafRkv04fmdbXW97fn8zDcP147r3W6wft9e53868ftxgNmvjnX+ev7wU4P7JL+b3H7/+/3/hx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+PHjx48fP378+JUvPydx+w/8qvHFOHJ/xfuzaiL3j/gNmsj9P37Tm8D9P36rbRm3/6f/V9xfFYHPP/3N96IIeP/kl/ubTc++//j5/8KPHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/Pjx48ePHz9+/GL3A/jF7nfwi93P4Re7H8evV/04fv/M00EBAAAEA0D5pBDBb2sggyjakcFr1+E+/6YPIaKggdCQ2479tDZuhHEc/x30Z2DelA7tbvCC0KkV7EWH0A3KRYd2azAyOnhs18E5l0J7EmNDSNGhtCZL+jZsLCYng1uC30NnZIPdQMtuoR4bng8DIkGHB76MZvDHnX/XOA1ugtPwBc6CuX+ebz/q592L8+1H/QzqR/0+CvWjftSP+lE/6kf9qB8hhAzNarQSWJSrCg2vBMAyu6OwDGfiIfHu7PeDL7076/32o5xPv7TiMlwmzqZ3b54Pf0SWxsAsAjBexE8/JFdXmZ4FsDZKnD2qKlaZXjhtrGDv75hIg0HrqwkTvwe2PgMwuIhflXE1a2aCvVHY16Uv2l5fL5w2LtI30pGzCK1L6ZR6eCtm0W4aeKWf3bCOngn2RmEZuGgDbZw6r2y/VWrV1v2upVfOIqv7D/ncK51en3X0TDb3XzZWgqlKL5w2d3DDBbDbf9b6pRUuImjxr6U7KFhHALA3StyRzafArBOXS+/Ol61g2Jx/tvr50puYR6HPP+QVe69ngr1RWEfGYuD19cKJCwuETwFXIjX3T1v9kKsMgDueu7dBK2GZngn2RmHfjP+Uqar0wqcibZwhMlaqhsYk/heEEEIIIYQQQgghhBBCCCGEEELcfizQGCJU0tmo2lkjzIDfeI29qwR55q9wyA9GCXbSChYQJrHlPPM5bj9bu6PLpp+ueOgiQi5f9OsGMBpM4KgIXyxSVeRPM+EraULGAqba4y9Nv1Td1Olw+eMc+SICvoV+6n7jRaRf5wtVgKt69G6t2sskVhmvcWTUDwO/Ntm6nw8jxEWYHfZz1rxO5aO4fVOnBXADdH9+vWIyLfTrbxd+bfbf6N08rsNidF17ExwV4TW8e9OvP4weK6S7fvvvJ6/N/7oXkgm4PaD702CVFv6zfv1D7U23/UzR/tSb6L+PjPq54w+mX28K3S/c9tuolfP3fjOlJBwBdF8vV2HmP0/xol9voxbeNMJxUT+d6HD/7c4/eJMX+w8AL4Duq/t/2n/Asfcf4bpBfHD+ie39E3BHSTfY92vOP5aZXPn+/Puy3vezc/5RP+TLNVffC18JgEmEzbcTSFUNuOPvtv0Cc/+MA5MrNvdP+Eqn3mRAON/1s3//JE75ae1f8AWsIsP/1O/ff38hhBBCCCGEEEIIIeQvj6JTo5ZGMegAAAAASUVORK5CYII=#invertable" width="893" height="446" class="img_ev3q">
See this benchmark on <a href="http://quick-bench.com/PXQl8uW3Dk1R_pBelXFlFCMRxEY" target="_blank" rel="noopener noreferrer">quick-bench</a></p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>In conclusion, it is a good representation of 2D matrices. However, it is hard to the extent the same logic to 3D matrices.</p>
<p>Separate code can be found <a href="/assets/files/transpose-1b6f0c109fe5ce1ae860c39202f58f26.cpp" target="_blank">here</a>.</p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/articles/tags/cpp">cpp</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/articles/tags/coding">coding</a></li></ul></div></div></footer></article><div></div><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/articles/pride-and-patience"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Pride &amp; Patience (dragonball z painting)</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/articles/falling-matrix"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Animation using HTML5 and javascript</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#table-of-content" class="table-of-contents__link toc-highlight">Table of content</a></li><li><a href="#the-problem" class="table-of-contents__link toc-highlight">The Problem</a><ul><li><a href="#performance" class="table-of-contents__link toc-highlight">Performance</a></li><li><a href="#sum-of-all-elements" class="table-of-contents__link toc-highlight">Sum of all elements</a></li><li><a href="#transpose-of-all-elements" class="table-of-contents__link toc-highlight">Transpose of all elements</a></li></ul></li><li><a href="#matrix-class" class="table-of-contents__link toc-highlight">Matrix Class</a><ul><li><a href="#sum-of-all-elements-1" class="table-of-contents__link toc-highlight">Sum of all elements</a></li><li><a href="#transpose-of-all-elements-1" class="table-of-contents__link toc-highlight">Transpose of all elements</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><span class="footer__link-item">
              See a typo or want to contribute? submit a PR or issue on <a href="https://github.com/rahulsrma26/rahulsrma26.github.io/" target="_blank" rel="noreferrer noopener">the Github repo</a>!
              <br>
              This website is built with <a href="https://docusaurus.io/" target="_blank" rel="noreferrer noopener">Docusaurus</a>.
              <br>
              Last build on Fri, 30 Aug 2024 18:32:31 GMT.
            </span></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Rahul Sharma.</div></div></div></footer></div>
</body>
</html>
"use strict";(self.webpackChunkrahulsrma_26_github_io=self.webpackChunkrahulsrma_26_github_io||[]).push([[6153],{2356:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>r,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>u});var n=i(4848),s=i(8453);const o={slug:"gh-pages",title:"Automate your GitHub Pages deployment using Actions",comments:!0,tags:["coding","website"],image:"./preview.png",description:"Learn how to automate your GitHub Pages deployment using GitHub Actions in this detailed guide. Discover how to set up a workflow for building and deploying static sites with Gatsby. Follow step-by-step instructions to create a seamless CI/CD pipeline, manage your code efficiently, and deploy updates effortlessly to your GitHub Pages site using GitHub Actions.",keywords:["GitHub Pages deployment","GitHub Actions automation","Deploy static site with GitHub Actions","GitHub Actions CI/CD","Automate GitHub Pages deployment","Gatsby GitHub Actions","Static site deployment","GitHub Actions tutorial","Build and deploy with GitHub Actions","GitHub Pages and Gatsby","YAML GitHub Actions workflow","GitHub Pages setup","Automate website deployment GitHub","GitHub Actions for static sites"]},a=void 0,l={permalink:"/articles/gh-pages",source:"@site/articles/2020-12-19-gh-pages/index.md",title:"Automate your GitHub Pages deployment using Actions",description:"Learn how to automate your GitHub Pages deployment using GitHub Actions in this detailed guide. Discover how to set up a workflow for building and deploying static sites with Gatsby. Follow step-by-step instructions to create a seamless CI/CD pipeline, manage your code efficiently, and deploy updates effortlessly to your GitHub Pages site using GitHub Actions.",date:"2020-12-19T00:00:00.000Z",tags:[{inline:!0,label:"coding",permalink:"/articles/tags/coding"},{inline:!0,label:"website",permalink:"/articles/tags/website"}],readingTime:2.83,hasTruncateMarker:!0,authors:[],frontMatter:{slug:"gh-pages",title:"Automate your GitHub Pages deployment using Actions",comments:!0,tags:["coding","website"],image:"./preview.png",description:"Learn how to automate your GitHub Pages deployment using GitHub Actions in this detailed guide. Discover how to set up a workflow for building and deploying static sites with Gatsby. Follow step-by-step instructions to create a seamless CI/CD pipeline, manage your code efficiently, and deploy updates effortlessly to your GitHub Pages site using GitHub Actions.",keywords:["GitHub Pages deployment","GitHub Actions automation","Deploy static site with GitHub Actions","GitHub Actions CI/CD","Automate GitHub Pages deployment","Gatsby GitHub Actions","Static site deployment","GitHub Actions tutorial","Build and deploy with GitHub Actions","GitHub Pages and Gatsby","YAML GitHub Actions workflow","GitHub Pages setup","Automate website deployment GitHub","GitHub Actions for static sites"]},unlisted:!1,nextItem:{title:"A love letter of a physicist",permalink:"/articles/love-letter"}},r={image:i(3348).A,authorsImageUrls:[]},u=[{value:"GitHub Pages",id:"github-pages",level:2},{value:"GitHub Actions",id:"github-actions",level:2},{value:"Build and Deploy",id:"build-and-deploy",level:2}];function c(e){const t={a:"a",code:"code",h2:"h2",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Preview",src:i(2493).A+"#reverse-invertable",width:"680",height:"168"})}),"\n",(0,n.jsx)(t.p,{children:"GitHub provides a free public static webpage hosting using the GitHub servers. It also provides a free domain by the name of username.github.io. You can automate the deployment using GitHub Actions easily. In this article, we will learn how to deploy the site build by a static site generator named Gatsby."}),"\n",(0,n.jsx)(t.h2,{id:"github-pages",children:"GitHub Pages"}),"\n",(0,n.jsxs)(t.p,{children:["GitHub Pages are public web pages hosted by ",(0,n.jsx)(t.a,{href:"https://github.com/",children:"GitHub"}),". It also provides a free domain ",(0,n.jsx)(t.code,{children:"username.github.io"}),". For example, this site is hosted on ",(0,n.jsx)(t.code,{children:"rahulsrma26.github.io"})," because my username is ",(0,n.jsx)(t.code,{children:"rahulsrma26"}),"."]}),"\n",(0,n.jsx)(t.p,{children:"Steps to host using the free domain are:"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:["Create a repository named ",(0,n.jsx)(t.code,{children:"username.github.io"})]}),"\n",(0,n.jsxs)(t.li,{children:["Put all the static web content including ",(0,n.jsx)(t.code,{children:"index.html"})," in the ",(0,n.jsx)(t.code,{children:"master"})," branch"]}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["If you face any difficulty following that then you can visit the official ",(0,n.jsx)(t.a,{href:"https://pages.github.com/",children:"GitHub pages"})," site or ",(0,n.jsx)(t.a,{href:"https://guides.github.com/features/pages/",children:"official guide"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["Why do I choose a static site? Find it ",(0,n.jsx)(t.a,{href:"/articles/static-site",children:"here"}),"."]}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.h2,{id:"github-actions",children:"GitHub Actions"}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.a,{href:"https://github.com/features/actions",children:"Github Actions"})," is a feature provided by GitHub to automate workflow. A user can specify their workflow that can run on any GitHub event. It is a popular feature for CI/CD. A user can build, test, and deploy the code right from GitHub. More can be learned on Github ",(0,n.jsx)(t.a,{href:"https://github.com/features/actions",children:"Action's site"}),"."]}),"\n",(0,n.jsx)(t.p,{children:"To use actions you first need to create a directory"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"mkdir -p .github/workflows/\n"})}),"\n",(0,n.jsx)(t.p,{children:"A workflow can be specified using a YAML file in this directory."}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.h2,{id:"build-and-deploy",children:"Build and Deploy"}),"\n",(0,n.jsxs)(t.p,{children:["If we want to use a static site generator that generates static pages from code/script (like ",(0,n.jsx)(t.a,{href:"https://www.gatsbyjs.com/",children:"Gatsby"}),"). Then we need to save our code elsewhere. We can either save our code in a separate repository or in a separate branch. Since it's easier to manage a single repository, we can create a ",(0,n.jsx)(t.code,{children:"dev"})," branch for all the code as the ",(0,n.jsx)(t.code,{children:"master"})," branch is reserved for the deployment."]}),"\n",(0,n.jsxs)(t.p,{children:["To create the workflow we can create ",(0,n.jsx)(t.code,{children:"deploy.yml"})," file in the ",(0,n.jsx)(t.code,{children:".github/workflows/"})," directory."]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-yml",children:"# Name of the workflow\nname: github pages deployment\n\n# Controls when the action will run. Triggers the workflow on\n# push or pull request events but only for the dev branch\non:\n  push:\n    branches: [ dev ]\n  pull_request:\n    branches: [ dev ]\n\n# Specifies what to run on the trigger\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    steps:\n    # first we need to checkout the repo\n    # if dev brach is not the default branch\n    # then you can specify the branch with 'ref'\n    - uses: actions/checkout@v2\n    # then setup nodejs on the machine\n    - uses: actions/setup-node@v1\n      with:\n        node-version: '12'\n\n    # then we need to install our static site generator\n    - run: npm install -g gatsby-cli\n    # doing clean install\n    - run: npm ci\n\n    # Building the site (static web pages)\n    - name: Gatsby Build\n      run: gatsby build\n\n    # Copy all files from the build folder to the master branch\n    - name: Deploy\n      uses: peaceiris/actions-gh-pages@v3\n      with:\n        github_token: ${{ secrets.GITHUB_TOKEN }}\n        publish_dir: ./public\n        publish_branch: master  # deploying branch\n"})}),"\n",(0,n.jsxs)(t.p,{children:["This will build and update your site whenever you push anything in the ",(0,n.jsx)(t.code,{children:"dev"})," branch. If you want to restrict the deployment trigger on some specific files like ",(0,n.jsx)(t.code,{children:"version.txt"})," or something like that, then you can modify the on push option."]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-yml",children:"on:\n  push:\n    paths:\n    - '**version.txt'\n"})}),"\n",(0,n.jsx)(t.p,{children:"This can be helpful in deploying a package to the hosting server. Like building and uploading a python package to a PyPI server, whenever there is a version update. I hope this article sheds some light on the capabilities of actions."})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},3348:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/preview-567645ef9c850a41191dafc8d519dfb8.png"},2493:(e,t,i)=>{i.d(t,{A:()=>n});const n="data:image/png;base64,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"},8453:(e,t,i)=>{i.d(t,{R:()=>a,x:()=>l});var n=i(6540);const s={},o=n.createContext(s);function a(e){const t=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),n.createElement(o.Provider,{value:t},e.children)}}}]);